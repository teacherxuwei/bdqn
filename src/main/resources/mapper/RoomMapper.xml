<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bdqn.bbh_zy.mapper.RoomMapper">
    <resultMap id="BaseResultMap" type="com.bdqn.bbh_zy.entity.Room">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <result column="id" jdbcType="INTEGER" property="id"/>
        <result column="number" jdbcType="VARCHAR" property="number"/>
        <result column="waterMoney" jdbcType="DECIMAL" property="watermoney"/>
        <result column="electricMoney" jdbcType="DECIMAL" property="electricmoney"/>
        <result column="face" jdbcType="VARCHAR" property="face"/>
        <result column="size" jdbcType="INTEGER" property="size"/>
        <result column="square" jdbcType="DECIMAL" property="square"/>
    </resultMap>
    <insert id="insert" parameterType="com.bdqn.bbh_zy.entity.Room">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into bbh_room_room (id, number, waterMoney,
        electricMoney, face, size,
        square)
        values (#{id,jdbcType=INTEGER}, #{number,jdbcType=VARCHAR}, #{watermoney,jdbcType=DECIMAL},
        #{electricmoney,jdbcType=DECIMAL}, #{face,jdbcType=VARCHAR}, #{size,jdbcType=INTEGER},
        #{square,jdbcType=DECIMAL})
    </insert>
    <insert id="insertSelective" parameterType="com.bdqn.bbh_zy.entity.Room">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into bbh_room_room
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="number != null">
                number,
            </if>
            <if test="watermoney != null">
                waterMoney,
            </if>
            <if test="electricmoney != null">
                electricMoney,
            </if>
            <if test="face != null">
                face,
            </if>
            <if test="size != null">
                size,
            </if>
            <if test="square != null">
                square,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=INTEGER},
            </if>
            <if test="number != null">
                #{number,jdbcType=VARCHAR},
            </if>
            <if test="watermoney != null">
                #{watermoney,jdbcType=DECIMAL},
            </if>
            <if test="electricmoney != null">
                #{electricmoney,jdbcType=DECIMAL},
            </if>
            <if test="face != null">
                #{face,jdbcType=VARCHAR},
            </if>
            <if test="size != null">
                #{size,jdbcType=INTEGER},
            </if>
            <if test="square != null">
                #{square,jdbcType=DECIMAL},
            </if>
        </trim>
    </insert>
    <!--<insert id="insert">-->

    <!--</insert>-->
    <!--<select id="roomList" parameterType="map" resultType="Room">-->
    <!--select * from bbh_room_room-->
    <!--<where>-->
    <!--<if test="number!=null and number!=''">-->
    <!--number = #{number}-->
    <!--</if>-->
    <!--</where>-->
    <!--</select>-->
    <select id="userList" parameterType="java.lang.Integer" resultType="User">
SELECT * FROM bbh_user_user u WHERE EXISTS
(SELECT * FROM room_user r_u
INNER JOIN bbh_room_room r ON r.id = r_u.roomId
WHERE r_u.userId = u.id AND r.id = #{id,jdbcType=INTEGER})
</select>
    <select id="selectRoomById" parameterType="java.lang.Integer" resultType="Room">
SELECT * FROM bbh_room_room WHERE id = #{id,jdbcType=INTEGER}
  </select>
    <select id="roomList" parameterType="com.bdqn.bbh_zy.entity.Room" resultType="Room">
        SELECT *
        FROM bbh_room_room
        <where>
            <if test="id!=null ">
                and id=#{id}
            </if>

            <!--<if test="size!=null and size!=-1">-->
            <!--and size = #{size}-->
            <!--</if>-->
            <if test="size!=null and size==0 ">
                and size = 2
            </if>
            <if test="size!=null and size==1 ">
                and size = 4
            </if>
            <if test="size!=null and size==2">
                and size = 8
            </if>

            <if test="square!=null and square==0">
                and square <![CDATA[<60]]>

            </if>
            <if test="square!=null and square==1">
                and square between 60 and 100
            </if>
            <if test="square!=null and square==2">
                and square >100
            </if>
            <if test="face!=null and face==0">
                and face='东'
            </if>
            <if test="face!=null and face==1">
                and face ='西'
            </if>
        </where>
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from bbh_room_room
        where id = #{id,jdbcType=INTEGER}
    </delete>
    <delete id="deleteByUserId
" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from bbh_room_room
        where id = #{id,jdbcType=INTEGER}
    </delete>
</mapper>